(this["webpackJsonpotsecret-frontend"]=this["webpackJsonpotsecret-frontend"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},36:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(26),a=c.n(s),i=(c(32),c(33),c(34),c(0));function o(){return Object(i.jsxs)("section",{className:"error-message",children:[Object(i.jsx)("span",{className:"hazard-symbol",children:"\u26a0"}),Object(i.jsx)("span",{className:"error-message__content",children:"As of November 28th, 2022, Heroku no longer offers a free tier which unfortunately breaks this app. I will leave the frontend website running on GitHub Pages, but the rest of the functionality will no longer work."})]})}var l=c(11),j=c(2),d=c(9),h=(c(36),c(12)),b=c.n(h);function u(){var e=Object(n.useState)(),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),a=Object(d.a)(s,2),o=a[0],l=a[1],j=Object(n.useRef)(),h=Object(n.useRef)();return Object(i.jsx)("div",{className:"create-secret app-outer-panel",children:Object(i.jsxs)("form",{className:"create-form app-panel",children:[Object(i.jsx)("h4",{children:"If you want to create a secret..."}),Object(i.jsx)("label",{children:"Secret message (1-100 characters)"}),Object(i.jsx)("textarea",{maxLength:100,ref:h,type:"text",placeholder:"What secret do you want to share?"}),Object(i.jsx)("label",{children:"Password for secret (3-64 chars)"}),Object(i.jsx)("input",{ref:j,type:"password",placeholder:"Password"}),Object(i.jsx)("button",{disabled:o,type:"submit",onClick:function(e){e.preventDefault(),l(!0),b.a.post("".concat(v,"/v1/secret"),{password:j.current.value,message:h.current.value}).then((function(e){r(e.data.id),j.current.value="",h.current.value=""})).catch((function(e){r(null)})).finally((function(){l(!1)}))},children:o?"Creating Secret...":"Create Secret"}),function(){if(c){var e="".concat(window.location.href).concat(c);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{children:"Give this URL to the recipient: "}),Object(i.jsx)("a",{href:e,children:e}),Object(i.jsx)("button",{type:"button",onClick:function(){navigator.clipboard.writeText(e)},children:"Copy to Clipboard"}),Object(i.jsx)("span",{className:"create-instructions",children:"This secret will expire in 15 minutes, or when the recipient reveals the secret."})]})}return null===c?Object(i.jsx)("span",{children:"failure"}):Object(i.jsx)("span",{})}()]})})}c(55);function p(){return Object(i.jsxs)("section",{className:"how-it-works",children:[Object(i.jsx)("h4",{children:"How does it work?"}),Object(i.jsx)("p",{children:"When you provide a secret message and password, a randomly generated ID is provided to you in the form of a URL. At the same time, a backend server keeps track of that ID along with the information you provided. The password and secret message are both encrypted when stored for security purposes."})]})}c(56);function f(){var e=Object(n.useRef)(),t=Object(j.f)();return Object(i.jsx)("div",{className:"redirect-to-id app-outer-panel",children:Object(i.jsxs)("form",{className:"redirect-id-form app-panel",children:[Object(i.jsx)("h4",{children:"If you have an ID of the secret..."}),Object(i.jsx)("label",{title:'If you were given a URL, the ID of the secret is the last part of the URL containing letters and numbers. For example, a URL ending with "/abc123" would have the ID of abc123.',children:"Enter ID of secret"}),Object(i.jsx)("input",{type:"text",title:"Only letters and numbers",ref:e,placeholder:"ID"}),Object(i.jsx)("button",{onClick:function(c){c.preventDefault(),e.current.value.match(/^[a-zA-Z0-9]+$/i)?t.push("/".concat(e.current.value)):window.alert("This is not an ID. The ID of a secret only contains letters and numbers.")},children:"Go to ID"})]})})}function O(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"app-panels-container",children:[Object(i.jsx)(u,{}),Object(i.jsx)(f,{})]}),Object(i.jsx)(p,{})]})}c(62);function x(e){var t=Object(n.useState)(Object(i.jsx)("div",{})),c=Object(d.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!1),o=Object(d.a)(a,2),j=o[0],h=o[1],u=e.id,p=Object(n.useRef)();return Object(i.jsx)("div",{className:"get-secret app-outer-panel",children:Object(i.jsxs)("form",{className:"get-secret-form app-panel",children:[Object(i.jsx)("h4",{children:"Unlocking a secret message"}),Object(i.jsx)(l.b,{to:"/",className:"get-secret-back-link",children:"Go back"}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:["Please enter in a password for secret ID: ",Object(i.jsx)("div",{className:"get-secret-id",children:u})]}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"password",ref:p,placeholder:"Password"}),Object(i.jsx)("button",{disabled:j,type:"submit",onClick:function(e){e.preventDefault(),h(!0),b.a.post("".concat(v,"/v1/secret/").concat(u),{password:p.current.value}).then((function(e){s(Object(i.jsxs)("div",{children:["Secret message: ",e.data.message]}))})).catch((function(){s(Object(i.jsx)("div",{children:"Failed"}))})).finally((function(){h(!1)}))},children:j?"Loading...":"Submit"}),r]})})}function m(e){var t=e.match.params.id;return Object(i.jsx)(x,{id:t})}var v="https://otsecret.herokuapp.com";var g=function(){return Object(i.jsx)(l.a,{children:Object(i.jsxs)("div",{className:"app-body",children:[Object(i.jsxs)("header",{className:"app-header",children:[Object(i.jsx)("h1",{className:"app-title",children:"OTSecret"}),Object(i.jsx)("h2",{className:"app-subtitle",children:"A way to send temporary secrets!"})]}),Object(i.jsx)(o,{}),Object(i.jsx)("div",{className:"app-content",children:Object(i.jsxs)(j.c,{children:[Object(i.jsx)(j.a,{exact:!0,path:"/",children:Object(i.jsx)(O,{})}),Object(i.jsx)(j.a,{path:"/:id",component:m})]})}),Object(i.jsxs)("footer",{className:"app-footer",children:[Object(i.jsx)("div",{children:"Created by Emmanuel Butor, 2021"}),Object(i.jsx)("a",{target:"_blank",className:"app-footer-icon",href:"https://github.com/Emman-B/OTSecret/",rel:"noreferrer noopener",children:Object(i.jsx)("i",{className:"devicon-github-original"})})]})]})})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("root")),w()}},[[63,1,2]]]);
//# sourceMappingURL=main.7aba6f23.chunk.js.map