(this["webpackJsonpotsecret-frontend"]=this["webpackJsonpotsecret-frontend"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(26),j=c.n(s),a=(c(32),c(33),c(11)),i=c(2),o=c(12),b=c(10),u=c.n(b),l=c(1);function d(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(n.useRef)(),j=Object(n.useRef)();return Object(l.jsxs)("form",{children:[Object(l.jsx)("label",{children:"Password for secret (3-64 chars)"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{ref:s,type:"password"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{children:"Secret message (1-100 characters)"}),Object(l.jsx)("br",{}),Object(l.jsx)("textarea",{ref:j,type:"text"}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",onClick:function(){u.a.post("".concat(x,"/v1/secret"),{password:s.current.value,message:j.current.value}).then((function(e){r(e.data.id),s.current.value="",j.current.value=""})).catch((function(e){r(null)}))},children:"Create secret"}),function(){if(c){var e="".concat(window.location.href).concat(c);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:"Give this URL to the recipient: "}),Object(l.jsx)("a",{href:e,children:e})]})}return null===c?Object(l.jsx)("span",{children:"failure"}):Object(l.jsx)("span",{})}()]})}function O(){return Object(l.jsx)("div",{children:Object(l.jsx)(d,{})})}function h(e){var t=Object(n.useState)(Object(l.jsx)("div",{})),c=Object(o.a)(t,2),r=c[0],s=c[1],j=e.match.params.id,i=Object(n.useRef)();return Object(l.jsxs)("form",{children:[Object(l.jsx)(a.b,{to:"/",children:"Go back"}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{children:["Please enter in a password for secret ID: ",j]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"password",ref:i}),Object(l.jsx)("button",{type:"submit",onClick:function(){u.a.post("".concat(x,"/v1/secret/").concat(j),{password:i.current.value}).then((function(e){s(Object(l.jsxs)("div",{children:["Secret message: ",e.data.message]}))})).catch((function(){s(Object(l.jsx)("div",{children:"Failed"}))}))},children:"Submit"}),r]})}var x="https://otsecret.herokuapp.com";var f=function(){return console.log("production"),Object(l.jsx)(a.a,{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",children:Object(l.jsx)(O,{})}),Object(l.jsx)(i.a,{path:"/:id",component:h})]})})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,j=t.getTTFB;c(e),n(e),r(e),s(e),j(e)}))};j.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root")),p()}},[[58,1,2]]]);
//# sourceMappingURL=main.597af258.chunk.js.map