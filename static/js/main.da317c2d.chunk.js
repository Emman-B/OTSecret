(this["webpackJsonpotsecret-frontend"]=this["webpackJsonpotsecret-frontend"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(26),a=c.n(s),j=(c(32),c(33),c(12)),i=c(2),b=c(9),o=(c(34),c(11)),l=c.n(o),u=c(1);function d(){var e=Object(n.useState)(),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),a=Object(b.a)(s,2),j=a[0],i=a[1],o=Object(n.useRef)(),d=Object(n.useRef)();return Object(u.jsx)("div",{className:"create-secret",children:Object(u.jsxs)("form",{className:"create-form",children:[Object(u.jsx)("label",{children:"Password for secret (3-64 chars)"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{ref:o,type:"password"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Secret message (1-100 characters)"}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{ref:d,type:"text"}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{disabled:j,type:"submit",onClick:function(e){e.preventDefault(),i(!0),l.a.post("".concat(f,"/v1/secret"),{password:o.current.value,message:d.current.value}).then((function(e){r(e.data.id),o.current.value="",d.current.value=""})).catch((function(e){r(null)})).finally((function(){i(!1)}))},children:j?"Creating Secret...":"Create Secret"}),function(){if(c){var e="".concat(window.location.href).concat(c);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Give this URL to the recipient: "}),Object(u.jsx)("a",{href:e,children:e})]})}return null===c?Object(u.jsx)("span",{children:"failure"}):Object(u.jsx)("span",{})}()]})})}function O(){return Object(u.jsx)("div",{children:Object(u.jsx)(d,{})})}function h(e){var t=Object(n.useState)(Object(u.jsx)("div",{})),c=Object(b.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!1),i=Object(b.a)(a,2),o=i[0],d=i[1],O=e.id,h=Object(n.useRef)();return Object(u.jsxs)("form",{children:[Object(u.jsx)(j.b,{to:"/",children:"Go back"}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{children:["Please enter in a password for secret ID: ",O]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",ref:h}),Object(u.jsx)("button",{disabled:o,type:"submit",onClick:function(e){e.preventDefault(),d(!0),l.a.post("".concat(f,"/v1/secret/").concat(O),{password:h.current.value}).then((function(e){s(Object(u.jsxs)("div",{children:["Secret message: ",e.data.message]}))})).catch((function(){s(Object(u.jsx)("div",{children:"Failed"}))})).finally((function(){d(!1)}))},children:o?"Loading...":"Submit"}),r]})}function x(e){var t=e.match.params.id;return Object(u.jsx)(h,{id:t})}var f="https://otsecret.herokuapp.com";var p=function(){return Object(u.jsxs)(j.a,{children:[Object(u.jsxs)("header",{className:"app-header",children:[Object(u.jsx)("h1",{className:"app-title",children:"OTSecret"}),Object(u.jsx)("h2",{className:"app-subtitle",children:"A way to send temporary secrets!"})]}),Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",children:Object(u.jsx)(O,{})}),Object(u.jsx)(i.a,{path:"/:id",component:x})]}),Object(u.jsx)("footer",{className:"app-footer",children:Object(u.jsx)("span",{children:"Created by Emmanuel Butor"})})]})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),m()}},[[59,1,2]]]);
//# sourceMappingURL=main.da317c2d.chunk.js.map