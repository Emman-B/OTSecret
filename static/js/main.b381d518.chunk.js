(this["webpackJsonpotsecret-frontend"]=this["webpackJsonpotsecret-frontend"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(26),a=c.n(s),i=(c(32),c(33),c(11)),o=c(2),l=c(9),j=(c(34),c(12)),d=c.n(j),b=c(0);function h(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),a=Object(l.a)(s,2),i=a[0],o=a[1],j=Object(n.useRef)(),h=Object(n.useRef)();return Object(b.jsx)("div",{className:"create-secret app-outer-panel",children:Object(b.jsxs)("form",{className:"create-form app-panel",children:[Object(b.jsx)("h4",{children:"If you want to create a secret..."}),Object(b.jsx)("label",{children:"Secret message (1-100 characters)"}),Object(b.jsx)("textarea",{maxLength:100,ref:h,type:"text",placeholder:"What secret do you want to share?"}),Object(b.jsx)("label",{children:"Password for secret (3-64 chars)"}),Object(b.jsx)("input",{ref:j,type:"password",placeholder:"Password"}),Object(b.jsx)("button",{disabled:i,type:"submit",onClick:function(e){e.preventDefault(),o(!0),d.a.post("".concat(m,"/v1/secret"),{password:j.current.value,message:h.current.value}).then((function(e){r(e.data.id),j.current.value="",h.current.value=""})).catch((function(e){r(null)})).finally((function(){o(!1)}))},children:i?"Creating Secret...":"Create Secret"}),function(){if(c){var e="".concat(window.location.href).concat(c);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{children:"Give this URL to the recipient: "}),Object(b.jsx)("a",{href:e,children:e}),Object(b.jsx)("button",{type:"button",onClick:function(){navigator.clipboard.writeText(e)},children:"Copy to Clipboard"}),Object(b.jsx)("span",{className:"create-instructions",children:"This secret will expire in 15 minutes, or when the recipient reveals the secret."})]})}return null===c?Object(b.jsx)("span",{children:"failure"}):Object(b.jsx)("span",{})}()]})})}c(54);function u(){return Object(b.jsxs)("section",{className:"how-it-works",children:[Object(b.jsx)("h4",{children:"How does it work?"}),Object(b.jsx)("p",{children:"When you provide a secret message and password, a randomly generated ID is provided to you in the form of a URL. At the same time, a backend server keeps track of that ID along with the information you provided. The password and secret message are both encrypted when stored for security purposes."})]})}c(55);function p(){var e=Object(n.useRef)(),t=Object(o.f)();return Object(b.jsx)("div",{className:"redirect-to-id app-outer-panel",children:Object(b.jsxs)("form",{className:"redirect-id-form app-panel",children:[Object(b.jsx)("h4",{children:"If you have an ID of the secret..."}),Object(b.jsx)("label",{title:'If you were given a URL, the ID of the secret is the last part of the URL containing letters and numbers. For example, a URL ending with "/abc123" would have the ID of abc123.',children:"Enter ID of secret"}),Object(b.jsx)("input",{type:"text",title:"Only letters and numbers",ref:e,placeholder:"ID"}),Object(b.jsx)("button",{onClick:function(c){c.preventDefault(),e.current.value.match(/^[a-zA-Z0-9]+$/i)?t.push("/".concat(e.current.value)):window.alert("This is not an ID. The ID of a secret only contains letters and numbers.")},children:"Go to ID"})]})})}function f(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"app-panels-container",children:[Object(b.jsx)(h,{}),Object(b.jsx)(p,{})]}),Object(b.jsx)(u,{})]})}c(61);function O(e){var t=Object(n.useState)(Object(b.jsx)("div",{})),c=Object(l.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!1),o=Object(l.a)(a,2),j=o[0],h=o[1],u=e.id,p=Object(n.useRef)();return Object(b.jsx)("div",{className:"get-secret app-outer-panel",children:Object(b.jsxs)("form",{className:"get-secret-form app-panel",children:[Object(b.jsx)("h4",{children:"Unlocking a secret message"}),Object(b.jsx)(i.b,{to:"/",className:"get-secret-back-link",children:"Go back"}),Object(b.jsx)("br",{}),Object(b.jsxs)("label",{children:["Please enter in a password for secret ID: ",Object(b.jsx)("div",{className:"get-secret-id",children:u})]}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",ref:p,placeholder:"Password"}),Object(b.jsx)("button",{disabled:j,type:"submit",onClick:function(e){e.preventDefault(),h(!0),d.a.post("".concat(m,"/v1/secret/").concat(u),{password:p.current.value}).then((function(e){s(Object(b.jsxs)("div",{children:["Secret message: ",e.data.message]}))})).catch((function(){s(Object(b.jsx)("div",{children:"Failed"}))})).finally((function(){h(!1)}))},children:j?"Loading...":"Submit"}),r]})})}function x(e){var t=e.match.params.id;return Object(b.jsx)(O,{id:t})}var m="https://otsecret.herokuapp.com";var v=function(){return Object(b.jsx)(i.a,{children:Object(b.jsxs)("div",{className:"app-body",children:[Object(b.jsxs)("header",{className:"app-header",children:[Object(b.jsx)("h1",{className:"app-title",children:"OTSecret"}),Object(b.jsx)("h2",{className:"app-subtitle",children:"A way to send temporary secrets!"})]}),Object(b.jsx)("div",{className:"app-content",children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",children:Object(b.jsx)(f,{})}),Object(b.jsx)(o.a,{path:"/:id",component:x})]})}),Object(b.jsxs)("footer",{className:"app-footer",children:[Object(b.jsx)("div",{children:"Created by Emmanuel Butor, 2021"}),Object(b.jsx)("a",{target:"_blank",className:"app-footer-icon",href:"https://github.com/Emman-B/OTSecret/",rel:"noreferrer noopener",children:Object(b.jsx)("i",{className:"devicon-github-original"})})]})]})})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),g()}},[[62,1,2]]]);
//# sourceMappingURL=main.b381d518.chunk.js.map