{"version":3,"sources":["components/CreateSecret.js","routes/HomeRoute.js","components/GetSecret.js","routes/GetSecretRoute.js","App.js","reportWebVitals.js","index.js"],"names":["CreateSecret","useState","newID","setNewID","loading","setLoading","passwordRef","useRef","messageRef","className","ref","type","disabled","onClick","e","preventDefault","axios","post","backendURL","password","current","value","message","then","response","data","id","catch","err","finally","newURL","window","location","href","showIDComponent","HomeRoute","GetSecret","props","secretMessage","setSecretMessage","to","GetSecretRoute","match","params","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4SAMe,SAASA,IACpB,MAA0BC,qBAA1B,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEMC,EAAcC,mBACdC,EAAaD,mBAsCnB,OACI,qBAAKE,UAAU,gBAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,qEACA,uBACA,uBAAOC,IAAKJ,EAAaK,KAAK,aAC9B,uBACA,sEACA,uBACA,0BAAUD,IAAKF,EAAYG,KAAK,SAChC,uBACA,wBAAQC,SAAUR,EAASO,KAAK,SAASE,QAAS,SAACC,GAC/CA,EAAEC,iBA/CdV,GAAW,GACXW,IAAMC,KAAN,UAAcC,EAAd,cAAsC,CAACC,SAAUb,EAAYc,QAAQC,MAAOC,QAASd,EAAWY,QAAQC,QACnGE,MAAK,SAACC,GAEHrB,EAASqB,EAASC,KAAKC,IACvBpB,EAAYc,QAAQC,MAAQ,GAC5Bb,EAAWY,QAAQC,MAAQ,MAE9BM,OAAM,SAACC,GAEJzB,EAAS,SAEZ0B,SAAQ,WACLxB,GAAW,OAiCX,SAGKD,EAAwB,qBAAhB,kBAhCD,WACpB,GAAIF,EAAO,CACP,IAAM4B,EAAM,UAAMC,OAAOC,SAASC,MAAtB,OAA6B/B,GACzC,OACI,qCACI,uBACA,oEACA,mBAAG+B,KAAMH,EAAT,SAAkBA,OAGvB,OAAc,OAAV5B,EAEA,2CAEA,yBAoBFgC,QC9DF,SAASC,IACpB,OACI,8BACI,cAAC,EAAD,MCDG,SAASC,EAAUC,GAC9B,MAA0CpC,mBAAS,yBAAnD,mBAAOqC,EAAP,KAAsBC,EAAtB,KACA,EAA8BtC,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEMqB,EAAKW,EAAMX,GAEXpB,EAAcC,mBAgBpB,OACI,iCACI,cAAC,IAAD,CAAMiC,GAAG,IAAT,qBACA,uBACA,+EAAkDd,KAElD,uBACA,uBAAOf,KAAK,WAAWD,IAAKJ,IAE5B,wBAAQM,SAAUR,EAASO,KAAK,SAASE,QAAS,SAACC,GAC/CA,EAAEC,iBAvBVV,GAAW,GACXW,IAAMC,KAAN,UAAcC,EAAd,sBAAsCQ,GAAM,CAACP,SAAUb,EAAYc,QAAQC,QACtEE,MAAK,SAACC,GACHe,EAAiB,mDAAsBf,EAASC,KAAKH,eAExDK,OAAM,WACHY,EAAiB,6CAEpBV,SAAQ,WACLxB,GAAW,OAaf,SAGKD,EAAiB,aAAT,WAEZkC,KCtCE,SAASG,EAAeJ,GAEnC,IAAMX,EAAKW,EAAMK,MAAMC,OAAOjB,GAE9B,OACI,cAACU,EAAD,CAAWV,GAAIA,ICAhB,IAAMR,EAAa,iCA8BX0B,MA3Bf,WACI,OACI,eAAC,IAAD,WAEI,yBAAQnC,UAAU,aAAlB,UACI,oBAAIA,UAAU,YAAd,sBACA,oBAAIA,UAAU,eAAd,iDAIJ,eAAC,IAAD,WACI,cAAC,IAAD,CAAOoC,OAAK,EAACC,KAAK,IAAlB,SACI,cAACX,EAAD,MAEJ,cAAC,IAAD,CAAOW,KAAK,OAAOC,UAAWN,OAMlC,wBAAQhC,UAAU,aAAlB,SACI,mECpBDuC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3B,MAAK,YAAkD,IAA/C4B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.da317c2d.chunk.js","sourcesContent":["import './CreateSecret.css';\nimport { useRef, useState } from \"react\";\nimport axios from 'axios';\nimport { backendURL } from \"../App\";\n\n\nexport default function CreateSecret() {\n    const [newID, setNewID] = useState();\n    const [loading, setLoading] = useState(false);\n\n    const passwordRef = useRef();\n    const messageRef = useRef();\n\n    const makeSecret = () => {\n        setLoading(true);\n        axios.post(`${backendURL}/v1/secret`, {password: passwordRef.current.value, message: messageRef.current.value})\n            .then((response) => {\n                // success\n                setNewID(response.data.id);\n                passwordRef.current.value = '';\n                messageRef.current.value = '';\n            })\n            .catch((err) => {\n                // failure\n                setNewID(null);\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    }\n\n    const showIDComponent = () => {\n        if (newID) {\n            const newURL = `${window.location.href}${newID}`\n            return (\n                <>\n                    <br></br>\n                    <span>Give this URL to the recipient: </span>\n                    <a href={newURL}>{newURL}</a>\n                </>\n            );\n        } else if (newID === null) {\n            // error case\n            return <span>failure</span>\n        } else {\n            return <span></span>\n        }\n    }\n\n    return (\n        <div className='create-secret'>\n            <form className='create-form'>\n                <label>Password for secret (3-64 chars)</label>\n                <br></br>\n                <input ref={passwordRef} type='password'></input>\n                <br></br>\n                <label>Secret message (1-100 characters)</label>\n                <br></br>\n                <textarea ref={messageRef} type='text'></textarea>\n                <br></br>\n                <button disabled={loading} type='submit' onClick={(e) => {\n                    e.preventDefault(); // prevents a refresh\n                    makeSecret();\n                }}>{!loading?'Create Secret':'Creating Secret...'}</button>\n\n                {showIDComponent()}\n            </form>\n        </div>\n    );\n}","import CreateSecret from \"../components/CreateSecret\";\n\n\nexport default function HomeRoute() {\n    return (\n        <div>\n            <CreateSecret />\n        </div>\n    );\n}","import axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { backendURL } from \"../App\";\n\nexport default function GetSecret(props) {\n    const [secretMessage, setSecretMessage] = useState(<div></div>);\n    const [loading, setLoading] = useState(false);\n\n    const id = props.id;\n\n    const passwordRef = useRef();\n\n    const handlePasswordSubmit = () => {\n        setLoading(true);\n        axios.post(`${backendURL}/v1/secret/${id}`, {password: passwordRef.current.value})\n            .then((response) => {\n                setSecretMessage(<div>Secret message: {response.data.message}</div>)\n            })\n            .catch(() => {\n                setSecretMessage(<div>Failed</div>);\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <form>\n            <Link to='/'>Go back</Link>\n            <br></br>\n            <label>Please enter in a password for secret ID: {id}</label>\n\n            <br></br>\n            <input type='password' ref={passwordRef}></input>\n\n            <button disabled={loading} type='submit' onClick={(e) => {\n                e.preventDefault(); // prevents a refresh\n                handlePasswordSubmit()\n            }}>{!loading?'Submit':'Loading...'}</button>\n\n            {secretMessage}\n        </form>\n    );\n}","\nimport GetSecret from \"../components/GetSecret\";\n\nexport default function GetSecretRoute(props) {\n    // pass in the id from the path parameter\n    const id = props.match.params.id;\n\n    return (\n        <GetSecret id={id} />\n    );\n}","import './App.css';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\n// import routes\nimport HomeRoute from './routes/HomeRoute';\nimport GetSecretRoute from './routes/GetSecretRoute';\n\n// define the backend server depending on node environment\nexport const backendURL = (process.env.NODE_ENV === 'development')?\n    `http://localhost:3010`:`https://otsecret.herokuapp.com`;\n\nfunction App() {\n    return (\n        <HashRouter>\n            {/* Header */}\n            <header className='app-header'>\n                <h1 className='app-title'>OTSecret</h1>\n                <h2 className='app-subtitle'>A way to send temporary secrets!</h2>\n            </header>\n\n            {/* Routes */}\n            <Switch>\n                <Route exact path='/'>\n                    <HomeRoute />\n                </Route>\n                <Route path='/:id' component={GetSecretRoute}>\n                </Route>\n            </Switch>\n\n            \n            {/* Footer */}\n            <footer className='app-footer'>\n                <span>Created by Emmanuel Butor</span>\n            </footer>\n        </HashRouter>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}