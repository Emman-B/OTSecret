(this["webpackJsonpotsecret-frontend"]=this["webpackJsonpotsecret-frontend"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},54:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(26),s=c.n(r),i=(c(32),c(33),c(11)),o=c(2),j=c(9),l=(c(34),c(12)),b=c.n(l),u=c(0);function d(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(n.useRef)(),d=Object(n.useRef)();return Object(u.jsx)("div",{className:"create-secret app-outer-panel",children:Object(u.jsxs)("form",{className:"create-form app-panel",children:[Object(u.jsx)("h4",{children:"If you want to create a secret..."}),Object(u.jsx)("label",{children:"Secret message (1-100 characters)"}),Object(u.jsx)("textarea",{maxLength:100,ref:d,type:"text"}),Object(u.jsx)("label",{children:"Password for secret (3-64 chars)"}),Object(u.jsx)("input",{ref:l,type:"password"}),Object(u.jsx)("button",{disabled:i,type:"submit",onClick:function(e){e.preventDefault(),o(!0),b.a.post("".concat(x,"/v1/secret"),{password:l.current.value,message:d.current.value}).then((function(e){a(e.data.id),l.current.value="",d.current.value=""})).catch((function(e){a(null)})).finally((function(){o(!1)}))},children:i?"Creating Secret...":"Create Secret"}),function(){if(c){var e="".concat(window.location.href).concat(c);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:"Give this URL to the recipient: "}),Object(u.jsx)("a",{href:e,children:e}),Object(u.jsx)("button",{type:"button",onClick:function(){navigator.clipboard.writeText(e)},children:"Copy to Clipboard"})]})}return null===c?Object(u.jsx)("span",{children:"failure"}):Object(u.jsx)("span",{})}()]})})}c(54);function h(){var e=Object(n.useRef)(),t=Object(o.f)();return Object(u.jsx)("div",{className:"redirect-to-id app-outer-panel",children:Object(u.jsxs)("form",{className:"redirect-id-form app-panel",children:[Object(u.jsx)("h4",{children:"If you have an ID of the secret..."}),Object(u.jsx)("label",{title:'If you were given a URL, the ID of the secret is the last part of the URL containing letters and numbers. For example, a URL ending with "/abc123" would have the ID of abc123.',children:"Enter ID of secret"}),Object(u.jsx)("input",{type:"text",title:"Only letters and numbers",ref:e}),Object(u.jsx)("button",{onClick:function(c){c.preventDefault(),e.current.value.match(/^[a-zA-Z0-9]+$/i)?t.push("/".concat(e.current.value)):window.alert("This is not an ID. The ID of a secret only contains letters and numbers.")},children:"Go to ID"})]})})}function p(){return Object(u.jsxs)("div",{className:"app-panels-container",children:[Object(u.jsx)(d,{}),Object(u.jsx)(h,{})]})}function f(e){var t=Object(n.useState)(Object(u.jsx)("div",{})),c=Object(j.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],h=e.id,p=Object(n.useRef)();return Object(u.jsxs)("form",{children:[Object(u.jsx)(i.b,{to:"/",children:"Go back"}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{children:["Please enter in a password for secret ID: ",h]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",ref:p}),Object(u.jsx)("button",{disabled:l,type:"submit",onClick:function(e){e.preventDefault(),d(!0),b.a.post("".concat(x,"/v1/secret/").concat(h),{password:p.current.value}).then((function(e){r(Object(u.jsxs)("div",{children:["Secret message: ",e.data.message]}))})).catch((function(){r(Object(u.jsx)("div",{children:"Failed"}))})).finally((function(){d(!1)}))},children:l?"Loading...":"Submit"}),a]})}function O(e){var t=e.match.params.id;return Object(u.jsx)(f,{id:t})}var x="https://otsecret.herokuapp.com";var m=function(){return Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{className:"app-body",children:[Object(u.jsxs)("header",{className:"app-header",children:[Object(u.jsx)("h1",{className:"app-title",children:"OTSecret"}),Object(u.jsx)("h2",{className:"app-subtitle",children:"A way to send temporary secrets!"})]}),Object(u.jsx)("div",{className:"app-content",children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(p,{})}),Object(u.jsx)(o.a,{path:"/:id",component:O})]})}),Object(u.jsx)("footer",{className:"app-footer",children:Object(u.jsx)("span",{children:"Created by Emmanuel Butor"})})]})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),v()}},[[60,1,2]]]);
//# sourceMappingURL=main.e5fca52f.chunk.js.map